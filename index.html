<!DOCTYPE html>
<html>
<head>
  <title>OneSignal Examples Page</title>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106423818-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-106423818-1');
  </script>


<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
<script>
  var OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "305df631-b228-4d33-b5f2-3b1b6d555ae3",
      autoRegister: false,
      notifyButton: {
        enable: true,
      },
      subdomainName: "fatsjohonimahnn",
      // Do NOT call init() twice
    // Your other init options here
    promptOptions: {
        /* Change bold title, limited to 30 characters */
        siteName: 'OneSignal Documentation',
        /* Subtitle, limited to 90 characters */
        actionMessage: "We'd like to show you notifications for the latest news and updates.",
        /* Example notification title */
        exampleNotificationTitle: 'Example notification',
        /* Example notification message */
        exampleNotificationMessage: 'This is an example notification',
        /* Text below example notification, limited to 50 characters */
        exampleNotificationCaption: 'You can unsubscribe anytime',
        /* Accept button text, limited to 15 characters */
        acceptButtonText: "ALLOW",
        /* Cancel button text, limited to 15 characters */
        cancelButtonText: "NO THANKS",
        autoAcceptTitle: 'Click Allow'
    }
    });
  });
</script>

</head>
<body>
  <h1> OneSignal Examples </h1>
  <div>
    <ul>
      <li><a href='https://fatsjohonimahnn.github.io/tagging'>Tagging example</a></li>
      <li><a href='https://fatsjohonimahnn.github.io/ga'>Google Analytics example</a></li>
      <li><a href="https://fatsjohonimahnn.github.io/iframe">Cross-origin Subscription tracking Example</a></li>
      <li><a href='https://fatsjohonimahnn.github.io/geolocation'>GeoLocation example</a></li>
      <li><a href='https://fatsjohonimahnn.github.io/testpage'>Test Page</a></li>
    </ul>
  </div>
  <p><button onclick="tagUser()">Tag User</button></p>
<script>

function tagUser() {
  OneSignal.push(function() {
    let timestamp = Math.floor(Date.now() / 1000);
    OneSignal.sendTag("buttonPress", timestamp).then(function(tagsSent) {
      // Callback called when tags have finished sending
      console.log("timestamp = ", timestamp);
    });
  })
}
  
OneSignal.push(["addListenerForNotificationOpened", function(data) {
  console.log("Received NotificationOpened:");
  console.log(data);
}]);

OneSignal.push(function() {
  OneSignal.on('notificationDisplay', function (event) {
    console.log('OneSignal notification displayed:', event);
    console.log('OneSignal notification id:', event.id);
    console.log('OneSignal notification title:', event.heading);
    console.log('OneSignal notification content:', event.content);
    console.log('OneSignal notification url:', event.url);
    console.log('OneSignal notification icon:', event.icon);
  });
});
</script>
  
</body>
</html>